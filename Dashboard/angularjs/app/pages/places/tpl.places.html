<!--breadcrumbs-->
  <div id="content-header">
    <div id="breadcrumb">
      <a href ng-click="nav('dashboard')" class="tip-bottom"><i class="icon-home"></i></a>
      <a href ng-click="nav('places')" class="tip-bottom"> Places</a>
    </div>
    <div class="row-fluid">
    <div class="span6"><h1>Places</h1></div>
    <div class="span6"><h1><input type="button" class="btn btn-success pull-right" style="margin-right:20px;" value="Add Place" ng-click="nav('places/add')"/></h1></div>
  </div>
  </div>
<!--End-breadcrumbs-->

<!--Action boxes-->
  <div class="container-fluid">
    <div class="quick">
      <div class="widget-box" ng-if="places.length>0">
            <div class="widget-title"> <span class="icon"> <i class="icon-th"></i> </span>
              <h5>All Places</h5>
              <div id="search">
                <input type="text" placeholder="Search here..." ng-model="searchText" style="color:black; background-color:white;">
                <button type="submit" class="tip-bottom" data-original-title="Search"><i class="icon-search icon-white"></i></button>
              </div>
            </div>
            <div class="widget-content nopadding" ng-if="places">
              <table class="table table-bordered table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Address</th>
                    <th>Parent</th>
                    <th>Options</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="place in places | filter:searchText">
                    <td ng-hide="true">{{place | json}}</td>
                    <td>{{place.name}}</td>
                    <td>{{place.description}}</td>
                    <td>{{place.address.street+', '+place.address.city+', '+place.address.postcode+', '+place.address.country}}</td>
                    <td>
                      <!-- Shows the name by looping over the object -->
                      <span ng-if="place.parentPlace.name">{{place.parentPlace.name}}</span>
                      <span ng-if="!place.parentPlace.name">None</span>
                    </td>
                    <td>
                      <div class="btn-group">
                        <button data-toggle="dropdown" class="btn dropdown-toggle btn-mini">Manage <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                          <li><a href ng-click="nav('places/edit/'+place._id)">Edit</a></li>
                          <li><a href ng-click="del(place)">Delete</a></li>
                        </ul>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="alert alert-info" ng-if="!places">
            Loading...
          </div>
          <div class="alert alert-info" ng-if="places.length==0">
              There are no places.
          </div>
    </div>
  </div>
<!--End-Action boxes-->
